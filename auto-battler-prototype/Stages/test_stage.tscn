[gd_scene load_steps=6 format=3 uid="uid://cp47aajkwulg7"]

[ext_resource type="Script" uid="uid://crlglabortqf2" path="res://Stages/test_stage.gd" id="1_3gimc"]
[ext_resource type="Script" uid="uid://dggc1tw4nmkkk" path="res://Mechanics/data_tracker.gd" id="1_7in27"]
[ext_resource type="Script" uid="uid://c51us734jurpc" path="res://UI/debug_ui.gd" id="2_nmfya"]
[ext_resource type="PackedScene" uid="uid://c0n8jl8cb30ey" path="res://Characters/character.tscn" id="3_k5qsb"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vhvwd"]
size = Vector2(962, 32)

[node name="stage" type="Node2D"]
process_mode = 3
script = ExtResource("1_3gimc")

[node name="Runner" type="Node" parent="."]
process_mode = 1

[node name="DataTracker" type="Node" parent="Runner" node_paths=PackedStringArray("char1", "char2")]
script = ExtResource("1_7in27")
ticksPerSecond = 30
char1 = NodePath("../Character1")
char2 = NodePath("../Character2")

[node name="UI" type="Control" parent="Runner" node_paths=PackedStringArray("dataTracker", "tickLabelValue", "timerLabelValue", "distanceLabelValue", "P1", "P1ActionGoalValueLabelValue", "P1ActionGoalTotalLabelValue", "P2", "P2ActionGoalValueLabelValue", "P2ActionGoalTotalLabelValue")]
custom_minimum_size = Vector2(800, 600)
layout_mode = 3
anchors_preset = 0
offset_right = 800.0
offset_bottom = 600.0
script = ExtResource("2_nmfya")
dataTracker = NodePath("../DataTracker")
tickLabelValue = NodePath("HBoxContainer/StageUI/Tick/TickValue")
timerLabelValue = NodePath("HBoxContainer/StageUI/Timer/TimerValue")
distanceLabelValue = NodePath("HBoxContainer/StageUI/Distance/DistanceValue")
P1 = NodePath("../Character1")
P1ActionGoalValueLabelValue = NodePath("HBoxContainer/P1UI/ActionGoal/ActionGoalValue")
P1ActionGoalTotalLabelValue = NodePath("HBoxContainer/P1UI/ActionGoal/ActionGoalTotal")
P2 = NodePath("../Character2")
P2ActionGoalValueLabelValue = NodePath("HBoxContainer/P2UI/ActionGoal/ActionGoalValue")
P2ActionGoalTotalLabelValue = NodePath("HBoxContainer/P2UI/ActionGoal/ActionGoalTotal")

[node name="HBoxContainer" type="HBoxContainer" parent="Runner/UI"]
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_bottom = 77.0
grow_horizontal = 2

[node name="P1UI" type="VBoxContainer" parent="Runner/UI/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="ActionGoal" type="HBoxContainer" parent="Runner/UI/HBoxContainer/P1UI"]
layout_mode = 2

[node name="ActionGoalLabel" type="Label" parent="Runner/UI/HBoxContainer/P1UI/ActionGoal"]
layout_mode = 2
text = "Action Goal: "

[node name="ActionGoalValue" type="Label" parent="Runner/UI/HBoxContainer/P1UI/ActionGoal"]
layout_mode = 2
text = "0"

[node name="ActionGoalTotal" type="Label" parent="Runner/UI/HBoxContainer/P1UI/ActionGoal"]
layout_mode = 2
text = "/ 0"

[node name="StageUI" type="VBoxContainer" parent="Runner/UI/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="Tick" type="HBoxContainer" parent="Runner/UI/HBoxContainer/StageUI"]
layout_mode = 2
alignment = 1

[node name="TickLabel" type="Label" parent="Runner/UI/HBoxContainer/StageUI/Tick"]
layout_mode = 2
text = "Tick:"

[node name="TickValue" type="Label" parent="Runner/UI/HBoxContainer/StageUI/Tick"]
layout_mode = 2
text = "0"

[node name="Timer" type="HBoxContainer" parent="Runner/UI/HBoxContainer/StageUI"]
layout_mode = 2
alignment = 1

[node name="TimerLabel" type="Label" parent="Runner/UI/HBoxContainer/StageUI/Timer"]
layout_mode = 2
text = "Timer: "

[node name="TimerValue" type="Label" parent="Runner/UI/HBoxContainer/StageUI/Timer"]
layout_mode = 2
text = "0.000s"

[node name="Distance" type="HBoxContainer" parent="Runner/UI/HBoxContainer/StageUI"]
layout_mode = 2
alignment = 1

[node name="DistanceLabel" type="Label" parent="Runner/UI/HBoxContainer/StageUI/Distance"]
layout_mode = 2
text = "Distance: "

[node name="DistanceValue" type="Label" parent="Runner/UI/HBoxContainer/StageUI/Distance"]
layout_mode = 2
text = "0"

[node name="P2UI" type="VBoxContainer" parent="Runner/UI/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="ActionGoal" type="HBoxContainer" parent="Runner/UI/HBoxContainer/P2UI"]
layout_mode = 2
alignment = 2

[node name="ActionGoalLabel" type="Label" parent="Runner/UI/HBoxContainer/P2UI/ActionGoal"]
layout_mode = 2
text = "Action Goal: "

[node name="ActionGoalValue" type="Label" parent="Runner/UI/HBoxContainer/P2UI/ActionGoal"]
layout_mode = 2
text = "0"

[node name="ActionGoalTotal" type="Label" parent="Runner/UI/HBoxContainer/P2UI/ActionGoal"]
layout_mode = 2
text = "/ 0"

[node name="Ground" type="StaticBody2D" parent="Runner"]
collision_layer = 16
collision_mask = 16

[node name="GroundCollision" type="CollisionShape2D" parent="Runner/Ground"]
position = Vector2(416, 400)
shape = SubResource("RectangleShape2D_vhvwd")

[node name="Polygon2D" type="Polygon2D" parent="Runner/Ground"]
position = Vector2(0, 128)
color = Color(9.0004505e-06, 0.7094359, 0.117693074, 1)
polygon = PackedVector2Array(0, 256, 800, 256, 800, 320, 0, 320)

[node name="Character1" parent="Runner" instance=ExtResource("3_k5qsb")]
position = Vector2(88, 280)

[node name="Character2" parent="Runner" instance=ExtResource("3_k5qsb")]
position = Vector2(704, 280)
startFacingRight = false
